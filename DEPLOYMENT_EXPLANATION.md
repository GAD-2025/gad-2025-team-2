# 배포 서버와 GitHub Push의 관계

## 🔍 오해 정리

### 사용자가 생각하신 것
- 프론트엔드 `.env` 파일에 배포 서버 URL 설정 = 배포 서버에 직접 push 가능

### 실제 상황
- `.env` 파일 = 프론트엔드가 **어느 백엔드 서버를 호출할지** 설정하는 것
- 배포 서버에 코드 배포 = **별개의 과정**

---

## 📋 두 가지 다른 개념

### 1. 프론트엔드 → 백엔드 연결 설정 (`.env` 파일)

**목적**: 프론트엔드가 어느 백엔드 서버를 호출할지 설정

**파일**: `frontend/.env`
```
VITE_API_BASE_URL=https://route.nois.club:3002
```

**의미**:
- 프론트엔드가 `https://route.nois.club:3002`로 API 요청을 보냄
- 이건 **연결 설정**일 뿐, 배포와는 무관

### 2. 코드 배포 (GitHub → 배포 서버)

**목적**: 코드를 배포 서버에 반영

**과정**:
1. 로컬에서 코드 수정
2. GitHub에 push (`git push origin main`)
3. 배포 서버가 GitHub에서 코드를 가져와서 배포
   - 자동 배포: GitHub push → 자동으로 배포 서버에 반영
   - 수동 배포: 관리자가 수동으로 배포

---

## ❓ 왜 배포 서버에 직접 push를 못하는가?

### 배포 서버는 원격 서버입니다

- 배포 서버(`https://route.nois.club:3002`)는 **원격 서버**
- 직접 접근 권한이 없으면 코드를 직접 올릴 수 없음
- SSH 접근 권한이 있어야 직접 배포 가능

### 일반적인 배포 프로세스

```
로컬 코드 수정
    ↓
GitHub에 push
    ↓
배포 서버가 GitHub에서 pull
    ↓
배포 서버에 코드 반영
```

---

## 🔧 현재 상황

### 완료된 것
- ✅ 프론트엔드 `.env` 설정: 배포 서버 URL로 API 호출
- ✅ GitHub에 코드 push: Posts API, 기본 매장 생성 로직

### 아직 안 된 것
- ❌ 배포 서버에 코드 반영: GitHub에 있지만 배포 서버에는 아직 없음
  - `/employer/stores/{user_id}` 엔드포인트가 배포 서버에 없음
  - `/api/posts` 엔드포인트가 배포 서버에 없음

---

## 💡 해결 방법

### 방법 1: 자동 배포 대기
- GitHub에 push했으니 자동 배포가 설정되어 있다면 몇 분 후 자동 반영
- 5-10분 후 다시 확인

### 방법 2: 배포 서버 관리자에게 요청
- 배포 서버 관리자(교수님)에게 최신 코드 반영 요청
- 또는 배포 서버 재시작 요청

### 방법 3: 직접 배포 (권한이 있는 경우)
- 배포 서버에 SSH 접속 권한이 있다면:
  ```bash
  ssh user@route.nois.club
  cd /path/to/backend
  git pull origin main
  # 서버 재시작
  ```

---

## 📝 요약

| 항목 | 설명 |
|------|------|
| `.env` 파일 | 프론트엔드가 어느 백엔드 서버를 호출할지 설정 |
| GitHub push | 코드를 GitHub 저장소에 업로드 |
| 배포 서버 반영 | GitHub의 코드를 배포 서버에 가져와서 실행 |

**결론**: `.env` 파일 설정과 배포는 별개입니다. GitHub에 push한 코드가 배포 서버에 반영되려면 자동 배포가 설정되어 있거나, 관리자가 수동으로 배포해야 합니다.

