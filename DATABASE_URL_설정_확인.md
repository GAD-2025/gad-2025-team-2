# DATABASE_URL μ„¤μ • ν™•μΈ λ° μ„¤λ…

## π” ν„μ¬ μ„¤μ •

`.env` νμΌμ— λ°°ν¬ μ„λ²„μ λ°μ΄ν„°λ² μ΄μ¤ μ—°κ²° μ •λ³΄κ°€ μ„¤μ •λμ–΄ μμµλ‹λ‹¤:

```env
DATABASE_URL=mysql+pymysql://team2:team2pass@route.nois.club:3312/team2
```

---

## β… μ΄κ²ƒμ΄ μλ―Έν•λ” κ²ƒ

### 1. λ°μ΄ν„°λ² μ΄μ¤ μ—°κ²°

μ΄ μ„¤μ •μ€ **λ΅μ»¬ λ°±μ—”λ“**κ°€ **λ°°ν¬ μ„λ²„μ λ°μ΄ν„°λ² μ΄μ¤**μ— μ§μ ‘ μ—°κ²°ν•©λ‹λ‹¤.

- λ΅μ»¬μ—μ„ λ°±μ—”λ“λ¥Ό μ‹¤ν–‰ν•λ©΄
- λ°°ν¬ μ„λ²„μ MySQL λ°μ΄ν„°λ² μ΄μ¤(`team2_db`)μ— μ—°κ²°λ¨
- λ°μ΄ν„°λ² μ΄μ¤ λ³€κ²½μ‚¬ν•­μ€ **λ°”λ΅ λ°μ**λ¨

### 2. μ½”λ“ λ°°ν¬μ™€μ μ°¨μ΄

β οΈ **μ¤‘μ”:** μ΄κ²ƒμ€ **λ°μ΄ν„°λ² μ΄μ¤ μ—°κ²°** μ„¤μ •μΌ λΏ, **μ½”λ“ λ°°ν¬**μ™€λ” λ³„κ°μ…λ‹λ‹¤.

| ν•­λ© | DATABASE_URL μ„¤μ • | μ½”λ“ λ°°ν¬ |
|------|------------------|----------|
| **μλ―Έ** | λ΅μ»¬ λ°±μ—”λ“κ°€ μ–΄λ DBμ— μ—°κ²°ν• μ§€ | λ°°ν¬ μ„λ²„μ μ½”λ“λ¥Ό μ—…λ°μ΄νΈ |
| **μν–¥** | λ°μ΄ν„°λ² μ΄μ¤ λ³€κ²½μ‚¬ν•­ λ°μ | API μ—”λ“ν¬μΈνΈ, λ΅μ§ λ³€κ²½ λ°μ |
| **μμ‹** | ν…μ΄λΈ” μƒμ„±, λ°μ΄ν„° μ‚½μ… | `/api/posts` μ—”λ“ν¬μΈνΈ μ¶”κ°€ |

---

## π€ μ‘λ™ λ°©μ‹

### μ‹λ‚λ¦¬μ¤ 1: λ°μ΄ν„°λ² μ΄μ¤ λ³€κ²½

1. **λ΅μ»¬μ—μ„ μ½”λ“ μμ •** (μ: μƒλ΅μ΄ λ¨λΈ μ¶”κ°€)
2. **λ΅μ»¬ λ°±μ—”λ“ μ‹¤ν–‰:**
   ```powershell
   cd backend
   venv\Scripts\activate
   uvicorn app.main:app --reload
   ```
3. **λ°μ΄ν„°λ² μ΄μ¤ λ³€κ²½μ‚¬ν•­ λ°μ:**
   - `create_db_and_tables()` μ‹¤ν–‰ μ‹
   - λ°°ν¬ μ„λ²„μ λ°μ΄ν„°λ² μ΄μ¤μ— ν…μ΄λΈ” μƒμ„±/μμ •
   - **λ°”λ΅ λ°μλ¨!** β…

### μ‹λ‚λ¦¬μ¤ 2: μ½”λ“ λ³€κ²½ (API μ—”λ“ν¬μΈνΈ λ“±)

1. **λ΅μ»¬μ—μ„ μ½”λ“ μμ •** (μ: `/api/posts` μ—”λ“ν¬μΈνΈ μ¶”κ°€)
2. **λ΅μ»¬ λ°±μ—”λ“ μ‹¤ν–‰:**
   - λ΅μ»¬μ—μ„λ§ μ‘λ™
   - λ°°ν¬ μ„λ²„μ μ½”λ“λ” μ—…λ°μ΄νΈλμ§€ μ•μ
3. **λ°°ν¬ μ„λ²„μ— λ°μν•λ ¤λ©΄:**
   - GitHubμ— push
   - λ°°ν¬ μ„λ²„μ—μ„ `git pull`
   - μ„λ²„ μ¬μ‹μ‘

---

## β… ν™•μΈ λ°©λ²•

### 1. λ°μ΄ν„°λ² μ΄μ¤ μ—°κ²° ν™•μΈ

λ΅μ»¬ λ°±μ—”λ“λ¥Ό μ‹¤ν–‰ν•κ³  λ°μ΄ν„°λ² μ΄μ¤μ— μ—°κ²°λλ”μ§€ ν™•μΈ:

```powershell
cd backend
venv\Scripts\activate
python -c "from app.db import engine; print('β… λ°μ΄ν„°λ² μ΄μ¤ μ—°κ²° μ„±κ³µ!' if engine else 'β μ—°κ²° μ‹¤ν¨')"
```

### 2. λ°°ν¬ μ„λ²„ λ°μ΄ν„°λ² μ΄μ¤μ— ν…μ΄λΈ” μƒμ„± ν™•μΈ

λ΅μ»¬μ—μ„ λ°±μ—”λ“λ¥Ό μ‹¤ν–‰ν•λ©΄:

```powershell
uvicorn app.main:app --reload
```

μ„λ²„ μ‹μ‘ μ‹ `create_db_and_tables()`κ°€ μ‹¤ν–‰λμ–΄ λ°°ν¬ μ„λ²„μ λ°μ΄ν„°λ² μ΄μ¤μ— ν…μ΄λΈ”μ΄ μƒμ„±/μμ •λ©λ‹λ‹¤.

### 3. MySQL Workbenchμ—μ„ ν™•μΈ

- λ°°ν¬ μ„λ²„μ λ°μ΄ν„°λ² μ΄μ¤(`team2_db`)μ— μ ‘μ†
- ν…μ΄λΈ” λ©λ΅ ν™•μΈ
- λ΅μ»¬ λ°±μ—”λ“ μ‹¤ν–‰ ν›„ μƒ ν…μ΄λΈ”μ΄ μƒμ„±λμ—λ”μ§€ ν™•μΈ

---

## π“‹ μ”μ•½

### β… μ‘λ™ν•λ” κ²ƒ

- λ°μ΄ν„°λ² μ΄μ¤ μ¤ν‚¤λ§ λ³€κ²½ (ν…μ΄λΈ” μƒμ„±/μμ •)
- λ°μ΄ν„°λ² μ΄μ¤ λ°μ΄ν„° λ³€κ²½ (INSERT, UPDATE, DELETE)
- λ΅μ»¬ λ°±μ—”λ“κ°€ λ°°ν¬ μ„λ²„μ λ°μ΄ν„°λ² μ΄μ¤μ— μ§μ ‘ μ—°κ²°

### β μ‘λ™ν•μ§€ μ•λ” κ²ƒ

- λ°°ν¬ μ„λ²„μ μ½”λ“ μ—…λ°μ΄νΈ (API μ—”λ“ν¬μΈνΈ, λ΅μ§ λ“±)
- λ°°ν¬ μ„λ²„μ μ„λ²„ μ¬μ‹μ‘
- λ°°ν¬ μ„λ²„μ ν™κ²½ λ³€μ λ³€κ²½

---

## π― κ²°λ΅ 

ν€μ›μ΄ λ§ν• "λ³€κ²½μ‚¬ν•­ λ°”λ΅ λ°°ν¬"λ”:

1. **λ°μ΄ν„°λ² μ΄μ¤ λ³€κ²½μ‚¬ν•­**μ€ λ°”λ΅ λ°μλ¨ β…
   - λ΅μ»¬ λ°±μ—”λ“ μ‹¤ν–‰ μ‹ λ°°ν¬ μ„λ²„μ λ°μ΄ν„°λ² μ΄μ¤μ— μ§μ ‘ μ—°κ²°
   - ν…μ΄λΈ” μƒμ„±/μμ •μ΄ λ°”λ΅ λ°μλ¨

2. **μ½”λ“ λ³€κ²½μ‚¬ν•­**μ€ μ—¬μ „ν λ°°ν¬ ν•„μ” β οΈ
   - API μ—”λ“ν¬μΈνΈ μ¶”κ°€/μμ •
   - λΉ„μ¦λ‹μ¤ λ΅μ§ λ³€κ²½
   - β†’ GitHub push λλ” SSH μ ‘μ† ν•„μ”

---

## π”§ μ‹¤μ  μ‚¬μ© μμ‹

### λ°μ΄ν„°λ² μ΄μ¤ λ³€κ²½ (λ°”λ΅ λ°μλ¨)

1. λ΅μ»¬μ—μ„ μƒλ΅μ΄ λ¨λΈ μ¶”κ°€:
   ```python
   class NewTable(SQLModel, table=True):
       id: int = Field(primary_key=True)
       name: str
   ```

2. λ΅μ»¬ λ°±μ—”λ“ μ‹¤ν–‰:
   ```powershell
   uvicorn app.main:app --reload
   ```

3. λ°°ν¬ μ„λ²„μ λ°μ΄ν„°λ² μ΄μ¤μ— `NewTable` ν…μ΄λΈ”μ΄ μƒμ„±λ¨ β…

### μ½”λ“ λ³€κ²½ (λ°°ν¬ ν•„μ”)

1. λ΅μ»¬μ—μ„ μƒλ΅μ΄ API μ—”λ“ν¬μΈνΈ μ¶”κ°€:
   ```python
   @router.get("/api/new-endpoint")
   async def new_endpoint():
       return {"message": "New endpoint"}
   ```

2. λ΅μ»¬μ—μ„λ§ μ‘λ™, λ°°ν¬ μ„λ²„μ—λ” λ°μ μ• λ¨ β

3. λ°°ν¬ μ„λ²„μ— λ°μν•λ ¤λ©΄:
   - GitHub push
   - λ°°ν¬ μ„λ²„μ—μ„ `git pull`
   - μ„λ²„ μ¬μ‹μ‘

